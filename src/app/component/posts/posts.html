<div>
    <div class="p-2 max-w-2xl m-auto">
        @if(isLoading()) {
        <span class="loading loading-spinner loading-xl"></span>
        } @else {
        <app-create-posts (postCreated)="onPostCreated($event)" />
        <ul>
            @for (post of posts(); track post.id) {
            <li class="mb-4 p-4 bg-base-300 rounded-lg shadow">
                <div class="flex gap-2 items-center mb-2">
                    <img [src]="post.user.profile.avatar" alt="Avatar" class="w-10 h-10 rounded-full" />
                    <a [routerLink]="['/users', post.user.id]" class="font-semibold hover:underline cursor-pointer">{{
                        post.user.username }}</a>
                </div>
                <h3 class="text-xl font-bold mb-2">{{ post.title }}</h3>
                <p class="text-gray-700 mb-2">{{ post.content }}</p>
                <div class="flex gap-2 items-center flex-wrap">
                    @for (tag of post.tags; track tag.id) {
                    <span class="badge badge-soft badge-info">#{{ tag.name }}</span>
                    }
                </div>
            </li>
            }
        </ul>
        }
    </div>
</div>